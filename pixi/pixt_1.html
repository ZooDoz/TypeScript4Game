<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Hello World</title>
</head>
<script src="./pixi.4.5.5.min.js"></script>

<body>
  <script type="text/javascript">
    let type = "WebGL"
    if (!PIXI.utils.isWebGLSupported()) {
      type = "canvas"
    }

    PIXI.utils.sayHello(type)

    let app = new PIXI.Application({
      width: 256,         // default: 800
      height: 256,        // default: 600
      antialias: true,    // default: false
      transparent: false, // default: false
      resolution: 1,       // default: 1
      forceCanvas: true,   //强制使用canvas
    });

    app.renderer.autoResize = true;
    app.renderer.resize(window.innerWidth, window.innerHeight);
    PIXI.loader.add("./images/majiang.jpg").load(setup);

    function setup() {
      console.log("load succ");
      //从图片中截取一个矩形
      let texture = PIXI.TextureCache["./images/majiang.jpg"];

      let rectangle = new PIXI.Rectangle(10, 12, 54, 74);
      texture.frame = rectangle;
      let rocket = new PIXI.Sprite(texture);
      rocket.x = 32;
      rocket.y = 32;
      app.stage.addChild(rocket);
    }
    document.body.appendChild(app.view);

  </script>
</body>

</html>